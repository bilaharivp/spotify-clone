{"ast":null,"code":"var _jsxFileName = \"/home/bilaharivp/spotify (clone)/MusicPlayer_Website_spotify_backend_version/MusicPlayer_Website_spotifyClone-main/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, useRef } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { AuthContext, AuthProvider, MusicContext } from \"./Context\";\nimport Signup from \"./components/Signup\";\nimport Signin from \"./components/Signin\";\nimport Home from \"./components/Home\";\nimport PlaybackControl from \"./components/PlaybackControl\";\nimport \"./App.css\"; // Import the CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  useContext(AuthContext);\n  const {\n    isPlaying,\n    volume\n  } = useContext(MusicContext);\n  const [beatColor, setBeatColor] = useState(\"#1a1a2e\");\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const dataArrayRef = useRef(null);\n  const animationIdRef = useRef(null);\n  const colors = [\"#1a1a2e\",\n  // dark navy\n  \"#16213e\",\n  // dark blue\n  \"#0f3460\",\n  // deep blue\n  \"#533483\",\n  // dark purple\n  \"#6b2d9e\",\n  // purple\n  \"#2d5a6e\",\n  // teal-blue\n  \"#4a1a5c\" // deep purple\n  ];\n\n  useEffect(() => {\n    if (!isPlaying || volume === 0) {\n      if (animationIdRef.current) {\n        cancelAnimationFrame(animationIdRef.current);\n        animationIdRef.current = null;\n      }\n      return;\n    }\n    try {\n      const audioElement = document.querySelector(\"audio\");\n      if (!audioElement) return;\n      if (!audioContextRef.current) {\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\n        const analyser = ctx.createAnalyser();\n        analyser.fftSize = 256;\n        try {\n          const source = ctx.createMediaElementAudioSource(audioElement);\n          source.connect(analyser);\n          analyser.connect(ctx.destination);\n        } catch (e) {\n          return;\n        }\n        audioContextRef.current = ctx;\n        analyserRef.current = analyser;\n        dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\n      }\n      const updateColor = () => {\n        if (analyserRef.current && dataArrayRef.current) {\n          analyserRef.current.getByteFrequencyData(dataArrayRef.current);\n          const bassAvg = dataArrayRef.current.slice(0, 8).reduce((a, b) => a + b, 0) / 8;\n          const midAvg = dataArrayRef.current.slice(8, 32).reduce((a, b) => a + b, 0) / 24;\n          const trebleAvg = dataArrayRef.current.slice(32, 64).reduce((a, b) => a + b, 0) / 32;\n          let colorIndex = 0;\n          if (bassAvg > 100) colorIndex = 4;else if (midAvg > 80) colorIndex = 5;else if (trebleAvg > 60) colorIndex = 6;else colorIndex = Math.floor((bassAvg + midAvg + trebleAvg) / 180 * colors.length) % colors.length;\n          setBeatColor(colors[colorIndex]);\n        }\n        animationIdRef.current = requestAnimationFrame(updateColor);\n      };\n      updateColor();\n    } catch (error) {\n      console.log(\"Audio visualization unavailable\");\n    }\n    return () => {\n      if (animationIdRef.current) {\n        cancelAnimationFrame(animationIdRef.current);\n      }\n    };\n  }, [isPlaying, volume, colors]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    style: {\n      position: \"relative\",\n      paddingBottom: \"80px\",\n      backgroundColor: beatColor,\n      transition: \"background-color 0.1s ease\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        element: /*#__PURE__*/_jsxDEV(Signin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlaybackControl, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"zpSvfYj5U0qi8POWXdxeJ+wAQyg=\");\n_c = App;\nexport default (() => /*#__PURE__*/_jsxDEV(AuthProvider, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 109,\n  columnNumber: 3\n}, this));\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useRef","Routes","Route","AuthContext","AuthProvider","MusicContext","Signup","Signin","Home","PlaybackControl","jsxDEV","_jsxDEV","App","_s","isPlaying","volume","beatColor","setBeatColor","audioContextRef","analyserRef","dataArrayRef","animationIdRef","colors","current","cancelAnimationFrame","audioElement","document","querySelector","ctx","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","source","createMediaElementAudioSource","connect","destination","e","Uint8Array","frequencyBinCount","updateColor","getByteFrequencyData","bassAvg","slice","reduce","a","b","midAvg","trebleAvg","colorIndex","Math","floor","length","requestAnimationFrame","error","console","log","className","style","position","paddingBottom","backgroundColor","transition","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/bilaharivp/spotify (clone)/MusicPlayer_Website_spotify_backend_version/MusicPlayer_Website_spotifyClone-main/frontend/src/App.js"],"sourcesContent":["import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport { AuthContext, AuthProvider, MusicContext } from \"./Context\";\r\nimport Signup from \"./components/Signup\";\r\nimport Signin from \"./components/Signin\";\r\nimport Home from \"./components/Home\";\r\nimport PlaybackControl from \"./components/PlaybackControl\";\r\nimport \"./App.css\"; // Import the CSS file\r\n\r\nfunction App() {\r\n  useContext(AuthContext);\r\n  const { isPlaying, volume } = useContext(MusicContext);\r\n  const [beatColor, setBeatColor] = useState(\"#1a1a2e\");\r\n  const audioContextRef = useRef(null);\r\n  const analyserRef = useRef(null);\r\n  const dataArrayRef = useRef(null);\r\n  const animationIdRef = useRef(null);\r\n\r\n  const colors = [\r\n    \"#1a1a2e\", // dark navy\r\n    \"#16213e\", // dark blue\r\n    \"#0f3460\", // deep blue\r\n    \"#533483\", // dark purple\r\n    \"#6b2d9e\", // purple\r\n    \"#2d5a6e\", // teal-blue\r\n    \"#4a1a5c\", // deep purple\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (!isPlaying || volume === 0) {\r\n      if (animationIdRef.current) {\r\n        cancelAnimationFrame(animationIdRef.current);\r\n        animationIdRef.current = null;\r\n      }\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const audioElement = document.querySelector(\"audio\");\r\n      if (!audioElement) return;\r\n\r\n      if (!audioContextRef.current) {\r\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\r\n        const analyser = ctx.createAnalyser();\r\n        analyser.fftSize = 256;\r\n        try {\r\n          const source = ctx.createMediaElementAudioSource(audioElement);\r\n          source.connect(analyser);\r\n          analyser.connect(ctx.destination);\r\n        } catch (e) {\r\n          return;\r\n        }\r\n        audioContextRef.current = ctx;\r\n        analyserRef.current = analyser;\r\n        dataArrayRef.current = new Uint8Array(analyser.frequencyBinCount);\r\n      }\r\n\r\n      const updateColor = () => {\r\n        if (analyserRef.current && dataArrayRef.current) {\r\n          analyserRef.current.getByteFrequencyData(dataArrayRef.current);\r\n          const bassAvg = dataArrayRef.current.slice(0, 8).reduce((a, b) => a + b, 0) / 8;\r\n          const midAvg = dataArrayRef.current.slice(8, 32).reduce((a, b) => a + b, 0) / 24;\r\n          const trebleAvg = dataArrayRef.current.slice(32, 64).reduce((a, b) => a + b, 0) / 32;\r\n\r\n          let colorIndex = 0;\r\n          if (bassAvg > 100) colorIndex = 4;\r\n          else if (midAvg > 80) colorIndex = 5;\r\n          else if (trebleAvg > 60) colorIndex = 6;\r\n          else colorIndex = Math.floor((bassAvg + midAvg + trebleAvg) / 180 * colors.length) % colors.length;\r\n\r\n          setBeatColor(colors[colorIndex]);\r\n        }\r\n        animationIdRef.current = requestAnimationFrame(updateColor);\r\n      };\r\n\r\n      updateColor();\r\n    } catch (error) {\r\n      console.log(\"Audio visualization unavailable\");\r\n    }\r\n\r\n    return () => {\r\n      if (animationIdRef.current) {\r\n        cancelAnimationFrame(animationIdRef.current);\r\n      }\r\n    };\r\n  }, [isPlaying, volume, colors]);\r\n\r\n  return (\r\n    <div\r\n      className=\"app-container\"\r\n      style={{\r\n        position: \"relative\",\r\n        paddingBottom: \"80px\",\r\n        backgroundColor: beatColor,\r\n        transition: \"background-color 0.1s ease\",\r\n      }}\r\n    >\r\n      <Routes>\r\n        <Route path=\"/signup\" element={<Signup />} />\r\n        <Route path=\"/signin\" element={<Signin />} />\r\n        <Route path=\"/\" element={<Home />} />\r\n      </Routes>\r\n      <PlaybackControl />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default () => (\r\n  <AuthProvider>\r\n    <App />\r\n  </AuthProvider>\r\n);\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}