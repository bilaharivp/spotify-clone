{"ast":null,"code":"var _jsxFileName = \"/home/bilaharivp/spotify (clone)/MusicPlayer_Website_spotify_backend_version/MusicPlayer_Website_spotifyClone-main/frontend/src/Context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\n\n// AuthContext for handling authentication state\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nexport const AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [token, setToken] = useState(null);\n  const login = newToken => {\n    setToken(newToken);\n    localStorage.setItem('authToken', newToken);\n  };\n  const logout = () => {\n    setToken(null);\n    localStorage.removeItem('authToken');\n  };\n  useEffect(() => {\n    const savedToken = localStorage.getItem('authToken');\n    if (savedToken) {\n      setToken(savedToken);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      token,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n\n// MusicContext for handling music-related state\n_s(AuthProvider, \"SSLzquenZQzOMzU62DrezfOo2pU=\");\n_c = AuthProvider;\nexport const MusicContext = /*#__PURE__*/createContext();\nexport const MusicProvider = _ref2 => {\n  _s2();\n  let {\n    children\n  } = _ref2;\n  const [isLoading, setIsLoading] = useState(false);\n  const [likedMusic, setLikedMusic] = useState(JSON.parse(localStorage.getItem(\"likedMusic\")) || []);\n  const [pinnedMusic, setPinnedMusic] = useState(JSON.parse(localStorage.getItem(\"pinnedMusic\")) || []);\n  const [resultOffset, setResultOffset] = useState(0);\n  useEffect(() => {\n    localStorage.setItem(\"likedMusic\", JSON.stringify(likedMusic)); // Sync with localStorage\n  }, [likedMusic]);\n  useEffect(() => {\n    localStorage.setItem(\"pinnedMusic\", JSON.stringify(pinnedMusic)); // Sync with localStorage\n  }, [pinnedMusic]);\n  return /*#__PURE__*/_jsxDEV(MusicContext.Provider, {\n    value: {\n      isLoading,\n      setIsLoading,\n      likedMusic,\n      setLikedMusic,\n      resultOffset,\n      setResultOffset,\n      pinnedMusic,\n      setPinnedMusic\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n// Combined ContextProvider to wrap the whole app\n_s2(MusicProvider, \"laEz6TvBtDc2ifdQmQ5lQ7eYEls=\");\n_c2 = MusicProvider;\nexport const CombinedProvider = _ref3 => {\n  let {\n    children\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(MusicProvider, {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_c3 = CombinedProvider;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthProvider\");\n$RefreshReg$(_c2, \"MusicProvider\");\n$RefreshReg$(_c3, \"CombinedProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","AuthContext","AuthProvider","_ref","_s","children","token","setToken","login","newToken","localStorage","setItem","logout","removeItem","savedToken","getItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","MusicContext","MusicProvider","_ref2","_s2","isLoading","setIsLoading","likedMusic","setLikedMusic","JSON","parse","pinnedMusic","setPinnedMusic","resultOffset","setResultOffset","stringify","_c2","CombinedProvider","_ref3","_c3","$RefreshReg$"],"sources":["/home/bilaharivp/spotify (clone)/MusicPlayer_Website_spotify_backend_version/MusicPlayer_Website_spotifyClone-main/frontend/src/Context.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\n\r\n// AuthContext for handling authentication state\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [token, setToken] = useState(null);\r\n\r\n  const login = (newToken) => {\r\n    setToken(newToken);\r\n    localStorage.setItem('authToken', newToken);\r\n  };\r\n\r\n  const logout = () => {\r\n    setToken(null);\r\n    localStorage.removeItem('authToken');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const savedToken = localStorage.getItem('authToken');\r\n    if (savedToken) {\r\n      setToken(savedToken);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ token, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// MusicContext for handling music-related state\r\nexport const MusicContext = createContext();\r\n\r\nexport const MusicProvider = ({ children }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [likedMusic, setLikedMusic] = useState(\r\n    JSON.parse(localStorage.getItem(\"likedMusic\")) || []\r\n  );\r\n  const [pinnedMusic, setPinnedMusic] = useState(\r\n    JSON.parse(localStorage.getItem(\"pinnedMusic\")) || []\r\n  );\r\n  const [resultOffset, setResultOffset] = useState(0);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"likedMusic\", JSON.stringify(likedMusic));  // Sync with localStorage\r\n  }, [likedMusic]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"pinnedMusic\", JSON.stringify(pinnedMusic)); // Sync with localStorage\r\n  }, [pinnedMusic]);\r\n\r\n  return (\r\n    <MusicContext.Provider\r\n      value={{\r\n        isLoading,\r\n        setIsLoading,\r\n        likedMusic,\r\n        setLikedMusic,\r\n        resultOffset,\r\n        setResultOffset,\r\n        pinnedMusic,\r\n        setPinnedMusic,\r\n      }}\r\n    >\r\n      {children}\r\n    </MusicContext.Provider>\r\n  );\r\n};\r\n\r\n// Combined ContextProvider to wrap the whole app\r\nexport const CombinedProvider = ({ children }) => {\r\n  return (\r\n    <AuthProvider>\r\n      <MusicProvider>\r\n        {children}\r\n      </MusicProvider>\r\n    </AuthProvider>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}