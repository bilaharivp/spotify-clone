{"ast":null,"code":"class AudioManager {\n  constructor() {\n    if (!AudioManager.instance) {\n      this.audio = new Audio();\n      this.currentSrc = null;\n      this.isPlaying = false;\n      this.subscribers = new Set();\n      this.audio.addEventListener(\"ended\", () => {\n        this.isPlaying = false;\n        this.notifySubscribers();\n      });\n      AudioManager.instance = this;\n    }\n    return AudioManager.instance;\n  }\n  play(src) {\n    if (this.currentSrc !== src) {\n      this.audio.src = src;\n      this.currentSrc = src;\n    }\n    this.audio.play();\n    this.isPlaying = true;\n    this.notifySubscribers();\n  }\n  pause() {\n    this.audio.pause();\n    this.isPlaying = false;\n    this.notifySubscribers();\n  }\n  toggle(src) {\n    if (this.isPlaying && this.currentSrc === src) {\n      this.pause();\n    } else {\n      this.play(src);\n    }\n  }\n  subscribe(callback) {\n    this.subscribers.add(callback);\n  }\n  unsubscribe(callback) {\n    this.subscribers.delete(callback);\n  }\n  notifySubscribers() {\n    this.subscribers.forEach(callback => callback(this.isPlaying, this.currentSrc));\n  }\n}\nconst instance = new AudioManager();\nexport default instance;","map":{"version":3,"names":["AudioManager","constructor","instance","audio","Audio","currentSrc","isPlaying","subscribers","Set","addEventListener","notifySubscribers","play","src","pause","toggle","subscribe","callback","add","unsubscribe","delete","forEach"],"sources":["/home/bilaharivp/spotify (clone)/MusicPlayer_Website_spotify_backend_version/MusicPlayer_Website_spotifyClone-main/frontend/src/utils/audioManager.js"],"sourcesContent":["class AudioManager {\n  constructor() {\n    if (!AudioManager.instance) {\n      this.audio = new Audio();\n      this.currentSrc = null;\n      this.isPlaying = false;\n      this.subscribers = new Set();\n\n      this.audio.addEventListener(\"ended\", () => {\n        this.isPlaying = false;\n        this.notifySubscribers();\n      });\n\n      AudioManager.instance = this;\n    }\n\n    return AudioManager.instance;\n  }\n\n  play(src) {\n    if (this.currentSrc !== src) {\n      this.audio.src = src;\n      this.currentSrc = src;\n    }\n    this.audio.play();\n    this.isPlaying = true;\n    this.notifySubscribers();\n  }\n\n  pause() {\n    this.audio.pause();\n    this.isPlaying = false;\n    this.notifySubscribers();\n  }\n\n  toggle(src) {\n    if (this.isPlaying && this.currentSrc === src) {\n      this.pause();\n    } else {\n      this.play(src);\n    }\n  }\n\n  subscribe(callback) {\n    this.subscribers.add(callback);\n  }\n\n  unsubscribe(callback) {\n    this.subscribers.delete(callback);\n  }\n\n  notifySubscribers() {\n    this.subscribers.forEach((callback) =>\n      callback(this.isPlaying, this.currentSrc)\n    );\n  }\n}\n\nconst instance = new AudioManager();\n\nexport default instance;\n"],"mappings":"AAAA,MAAMA,YAAY,CAAC;EACjBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACD,YAAY,CAACE,QAAQ,EAAE;MAC1B,IAAI,CAACC,KAAK,GAAG,IAAIC,KAAK,EAAE;MACxB,IAAI,CAACC,UAAU,GAAG,IAAI;MACtB,IAAI,CAACC,SAAS,GAAG,KAAK;MACtB,IAAI,CAACC,WAAW,GAAG,IAAIC,GAAG,EAAE;MAE5B,IAAI,CAACL,KAAK,CAACM,gBAAgB,CAAC,OAAO,EAAE,MAAM;QACzC,IAAI,CAACH,SAAS,GAAG,KAAK;QACtB,IAAI,CAACI,iBAAiB,EAAE;MAC1B,CAAC,CAAC;MAEFV,YAAY,CAACE,QAAQ,GAAG,IAAI;IAC9B;IAEA,OAAOF,YAAY,CAACE,QAAQ;EAC9B;EAEAS,IAAIA,CAACC,GAAG,EAAE;IACR,IAAI,IAAI,CAACP,UAAU,KAAKO,GAAG,EAAE;MAC3B,IAAI,CAACT,KAAK,CAACS,GAAG,GAAGA,GAAG;MACpB,IAAI,CAACP,UAAU,GAAGO,GAAG;IACvB;IACA,IAAI,CAACT,KAAK,CAACQ,IAAI,EAAE;IACjB,IAAI,CAACL,SAAS,GAAG,IAAI;IACrB,IAAI,CAACI,iBAAiB,EAAE;EAC1B;EAEAG,KAAKA,CAAA,EAAG;IACN,IAAI,CAACV,KAAK,CAACU,KAAK,EAAE;IAClB,IAAI,CAACP,SAAS,GAAG,KAAK;IACtB,IAAI,CAACI,iBAAiB,EAAE;EAC1B;EAEAI,MAAMA,CAACF,GAAG,EAAE;IACV,IAAI,IAAI,CAACN,SAAS,IAAI,IAAI,CAACD,UAAU,KAAKO,GAAG,EAAE;MAC7C,IAAI,CAACC,KAAK,EAAE;IACd,CAAC,MAAM;MACL,IAAI,CAACF,IAAI,CAACC,GAAG,CAAC;IAChB;EACF;EAEAG,SAASA,CAACC,QAAQ,EAAE;IAClB,IAAI,CAACT,WAAW,CAACU,GAAG,CAACD,QAAQ,CAAC;EAChC;EAEAE,WAAWA,CAACF,QAAQ,EAAE;IACpB,IAAI,CAACT,WAAW,CAACY,MAAM,CAACH,QAAQ,CAAC;EACnC;EAEAN,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACH,WAAW,CAACa,OAAO,CAAEJ,QAAQ,IAChCA,QAAQ,CAAC,IAAI,CAACV,SAAS,EAAE,IAAI,CAACD,UAAU,CAAC,CAC1C;EACH;AACF;AAEA,MAAMH,QAAQ,GAAG,IAAIF,YAAY,EAAE;AAEnC,eAAeE,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}